# ========================================
# Heimdall direnv configuration
# ========================================

# Load shared secrets (if available)
source_env_if_exists ~/.config/secrets/common.env
source_env_if_exists ~/.config/secrets/heimdall.env
source_env_if_exists ~/.config/secrets/spacewalker.env

# Normalize Linear credentials
if [ -n "${LINEAR_API_TOKEN:-}" ] && [ -z "${LINEAR_API_KEY:-}" ]; then
  export LINEAR_API_KEY="${LINEAR_API_TOKEN}"
fi
if [ -n "${LINEAR_API_KEY:-}" ] && [ -z "${LINEAR_TOKEN:-}" ]; then
  export LINEAR_TOKEN="${LINEAR_API_KEY}"
fi

# Load project-local defaults
dotenv_if_exists .env

# Python runtime
layout python python3.12
